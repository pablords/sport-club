{
  "openapi": "3.0.0",
  "info": {
    "version": "1.0.0",
    "title": "Api Gateway",
    "description": "Tem por objetivo gerenciar e rotear requisiçoes",
    "termsOfService": "https://github.com/pablords/sport-club",
    "contact": {
      "name": "API Support",
      "email": "pablords@gmail.com",
      "url": "https://github.com/pablords/sport-club"
    }
  },
  "servers": [
    {
      "url": "http://10.0.0.172:3009/api/v1/",
      "description": "Api de teste"
    }
  ],
  "paths": {
    "/manager/login": {
      "post": {
        "summary": "Autentica Usuario e retorna um token de autorização",
        "description": "Para logar em um APP especifico, Passe o client_id e o client_credentials. exemplo: para logar no parners-ms, passar o client_id partners-ms, e crendecial de service-account",
        "tags": ["Manager"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "client_id": {
                    "type": "string"
                  },
                  "grant_type": {
                    "type": "string",
                    "enum": ["password", "refresh_token", "client_credentials"]
                  },
                  "client_secret": {
                    "type": "string"
                  },
                  "username": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "refresh_token": {
                    "type": "string"
                  }
                }
              },
              "encoding": {
                "payload": {
                  "contentType": "application/json"
                }
              }
            }
          }
        },
        "responses": {
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Não autorizado"
          },
          "200": {
            "description": "ok",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "access_token": {
                      "type": "string"
                    },
                    "expires_in": {
                      "type": "number"
                    },
                    "refresh_expires_in": {
                      "type": "number"
                    },
                    "refresh_token": {
                      "type": "string"
                    },
                    "token_type": {
                      "type": "string"
                    },
                    "not-before-policy": {
                      "type": "number"
                    },
                    "session_state": {
                      "type": "string"
                    },
                    "scope": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJ0YUdaSS0yMFpjQkVxeW5NQWRkUEVZRnV4RG8zZmoyM1FiNTVEeGxLT05nIn0.eyJleHAiOjE2NTM3OTg4MTQsImlhdCI6MTY1Mzc5NzAxNCwianRpIjoiM2IwZTAyYzgtMDdlMi00YzJkLTllZjgtNThlNTkwOWQyYWVhIiwiaXNzIjoiaHR0cDovLzEwLjAuMC4xNzI6MzAwMy9hdXRoL3JlYWxtcy9kZXYtaGVsbSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiJhMzQ4NzI3Ny1mMzkzLTQyOWMtOWZmZC1kZmM1ZDIwNTA0YTMiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJwYXJ0bmVycy1tcyIsInNlc3Npb25fc3RhdGUiOiJmY2Y3OTQ1Ny03YmNkLTRjZTQtYWUxOC1kNzM4ZGIwOTIxMjEiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly8xMC4wLjAuMTcyOjMwMDEiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRlZmF1bHQtcm9sZXMtZGV2LWhlbG0iLCJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19LCJwYXJ0bmVycy1tcyI6eyJyb2xlcyI6WyJ2aWV3IiwiZWRpdCIsImRlbGV0ZSJdfX0sInNjb3BlIjoicHJvZmlsZSBlbWFpbCIsInNpZCI6ImZjZjc5NDU3LTdiY2QtNGNlNC1hZTE4LWQ3MzhkYjA5MjEyMSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoicGFibG8gZG9zIHNhbnRvcyIsInByZWZlcnJlZF91c2VybmFtZSI6InBhYmxvX3NhbnRvcyIsImdpdmVuX25hbWUiOiJwYWJsbyIsImZhbWlseV9uYW1lIjoiZG9zIHNhbnRvcyIsImVtYWlsIjoicGFibG9yZHNAZ21haWwuY29tIn0.ilJRbqmcBmmsmq_8J7tEROrxYjCd5lpX_iJNb3Pe4WrfX--b4rn4ZTf99yGMGbF1YcNL9DRTZvrSEjxLOI1K1rkspeIf_iPUNPYvvsEFKlJ-XjV-sr4Z8A5UmiSS54t7eUierJYhRsqUEHDcdO7pGedt5cGJwM2gu3OoAAzXqX5SICQv_jOANuZAFOlOjYhedUi8xWFKsoF5wFjRxw0Gdm39uMaU7W_pJln8k-dpncVFAC_I8V9rHv4Wq1ZeE2bdISrMH9t71JN3bxr1kWMRKnRGY3xzpA34-v699Zi68foOS83i_LaBMhQhgs2BR0RcLa-on3yGGaH13qltLhVpYA",
                  "expires_in": 1800,
                  "refresh_expires_in": 1800,
                  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ODkyOTMwZC02MTA0LTRhYTMtYjhmZi00OTQ3YjYwODY5OWYifQ.eyJleHAiOjE2NTM3OTg4MTQsImlhdCI6MTY1Mzc5NzAxNCwianRpIjoiMzRhM2YxNWYtMjlmZS00ZTk1LWFhMzUtYThjYzI0YzI1OGFjIiwiaXNzIjoiaHR0cDovLzEwLjAuMC4xNzI6MzAwMy9hdXRoL3JlYWxtcy9kZXYtaGVsbSIsImF1ZCI6Imh0dHA6Ly8xMC4wLjAuMTcyOjMwMDMvYXV0aC9yZWFsbXMvZGV2LWhlbG0iLCJzdWIiOiJhMzQ4NzI3Ny1mMzkzLTQyOWMtOWZmZC1kZmM1ZDIwNTA0YTMiLCJ0eXAiOiJSZWZyZXNoIiwiYXpwIjoicGFydG5lcnMtbXMiLCJzZXNzaW9uX3N0YXRlIjoiZmNmNzk0NTctN2JjZC00Y2U0LWFlMTgtZDczOGRiMDkyMTIxIiwic2NvcGUiOiJwcm9maWxlIGVtYWlsIiwic2lkIjoiZmNmNzk0NTctN2JjZC00Y2U0LWFlMTgtZDczOGRiMDkyMTIxIn0.lBD26qVVQc_fSXZ6VZvGt-veDqkLjM1HT5-NxxaYpZM",
                  "token_type": "Bearer",
                  "not-before-policy": 0,
                  "session_state": "fcf79457-7bcd-4ce4-ae18-d738db092121",
                  "scope": "profile email"
                }
              }
            }
          }
        }
      }
    },
    "/manager/register-user": {
      "post": {
        "summary": "Registra um usuario no sistema",
        "description": "Rota responsável por registrar usuario no sistema",
        "tags": ["Manager"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string"
                  },
                  "emailVerified": {
                    "type": "integer"
                  },
                  "firstName": {
                    "type": "string"
                  },
                  "lastName": {
                    "type": "string"
                  },
                  "enabled": {
                    "type": "integer"
                  },
                  "realmRoles": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "groups": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "credentials": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string"
                        },
                        "value": {
                          "type": "string"
                        },
                        "temporary": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              },
              "encoding": {
                "payload": {
                  "contentType": "application/json"
                }
              }
            }
          }
        },
        "responses": {
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Não autorizado"
          },
          "409": {
            "description": "Usuário já existe"
          },
          "201": {
            "description": "Usuário Criado",
            "content": {
              "aplication/json": {}
            }
          }
        }
      }
    },
    "/manager/logout": {
      "post": {
        "summary": "Invalida Token",
        "description": "Rota responsável por invalidar refresh_token do usuario",
        "tags": ["Manager"],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "type": "object",
                "properties": {
                  "client_id": {
                    "type": "string"
                  },
                  "client_secret": {
                    "type": "string"
                  },
                  "refresh_token": {
                    "type": "string"
                  }
                }
              },
              "encoding": {
                "payload": {
                  "contentType": "application/json"
                }
              }
            }
          }
        },
        "responses": {
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Não autorizado"
          },
          "204": {
            "description": "ok",
            "content": {
              "aplication/json": {}
            }
          }
        }
      }
    },
    "/manager/refresh-token/{id}": {
      "get": {
        "summary": "Retorna refresh_token salvo em manager-db-cache",
        "description": "Rota responsável por retornar refresh_token",
        "tags": ["Manager"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id do usuario",
            "required": true
          }
        ],
        "responses": {
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Não autorizado"
          },
          "200": {
            "description": "ok",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "refresh_token": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "expires": 275,
                  "token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4ODkyOTMwZC02MTA0LTRhYTMtYjhmZi00OTQ3YjYwODY5OWYifQ.eyJleHAiOjE2NTM3OTg4MTQsImlhdCI6MTY1Mzc5NzAxNCwianRpIjoiMzRhM2YxNWYtMjlmZS00ZTk1LWFhMzUtYThjYzI0YzI1OGFjIiwiaXNzIjoiaHR0cDovLzEwLjAuMC4xNzI6MzAwMy9hdXRoL3JlYWxtcy9kZXYtaGVsbSIsImF1ZCI6Imh0dHA6Ly8xMC4wLjAuMTcyOjMwMDMvYXV0aC9yZWFsbXMvZGV2LWhlbG0iLCJzdWIiOiJhMzQ4NzI3Ny1mMzkzLTQyOWMtOWZmZC1kZmM1ZDIwNTA0YTMiLCJ0eXAiOiJSZWZyZXNoIiwiYXpwIjoicGFydG5lcnMtbXMiLCJzZXNzaW9uX3N0YXRlIjoiZmNmNzk0NTctN2JjZC00Y2U0LWFlMTgtZDczOGRiMDkyMTIxIiwic2NvcGUiOiJwcm9maWxlIGVtYWlsIiwic2lkIjoiZmNmNzk0NTctN2JjZC00Y2U0LWFlMTgtZDczOGRiMDkyMTIxIn0.lBD26qVVQc_fSXZ6VZvGt-veDqkLjM1HT5-NxxaYpZM"
                }
              }
            }
          }
        }
      }
    },
    "/partners/contacts": {
      "get": {
        "summary": "Listagem de contatos sócios",
        "description": "Essa rota será responsável por listar todos contatos armazenados no banco de dados",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "200": {
            "description": "OK",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "phone": {
                      "type": "number"
                    },
                    "address": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "partnerId": {
                      "type": "number"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/contacts/{id}": {
      "get": {
        "summary": "Busca de um contato pelo id",
        "description": "Essa rota será responsável por buscar um contato pelo id",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id do contato",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "422": {
            "description": "Dados invalidos"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "200": {
            "description": "OK",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "phone": {
                      "type": "number"
                    },
                    "address": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "partnerId": {
                      "type": "number"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/contacts/create": {
      "post": {
        "summary": "Cria um novo contato",
        "description": "essa rota será responsável por criar um novo contato",
        "tags": ["Partners"],
        "requestBody": {
          "content": {
            "application/json; charset=utf-8": {
              "schema": {
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "number"
                  },
                  "address": {
                    "type": "string"
                  },
                  "partnerId": {
                    "type": "number",
                    "description": "vincula contato ao sócio"
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "422": {
            "description": "Dados invalidos"
          },
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "201": {
            "description": "Created",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "phone": {
                      "type": "number"
                    },
                    "address": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "partnerId": {
                      "type": "number"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/contacts/{id}/update": {
      "put": {
        "summary": "Atualiza um contato",
        "description": "Essa rota será responsável por atualizar um contato. O campo partnerId é obrigatório",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id do contato",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json; charset=utf-8": {
              "schema": {
                "required": ["partnerId"],
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "number"
                  },
                  "address": {
                    "type": "string"
                  },
                  "partnerId": {
                    "type": "number",
                    "description": "vincula contato ao sócio"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "422": {
            "description": "Dados invalidos"
          },
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "201": {
            "description": "Created",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "generatedMaps": {
                      "type": "array"
                    },
                    "raw": {
                      "type": "array"
                    },
                    "affected": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/contacts/{id}/delete": {
      "delete": {
        "summary": "Deleta um contato",
        "description": "Essa rota será responsável por deletar um contato. O campo partnerId é obrigatório",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id do contato",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "422": {
            "description": "Dados invalidos"
          },
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "204": {
            "description": "No content",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "generatedMaps": {
                      "type": "array"
                    },
                    "raw": {
                      "type": "array"
                    },
                    "affected": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/partners": {
      "get": {
        "summary": "Listagem de sócios",
        "description": "Essa rota será responsável por listar todos sócios armazenados no banco de dados",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "200": {
            "description": "OK",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "name": {
                      "type": "string"
                    },
                    "surname": {
                      "type": "string"
                    },
                    "birthDate": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/partners/{id}": {
      "get": {
        "summary": "Busca de um sócio pelo id",
        "description": "Essa rota será responsável por buscar um sócio pelo id",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id do sócio",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "200": {
            "description": "OK",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "name": {
                      "type": "string"
                    },
                    "surname": {
                      "type": "string"
                    },
                    "birthDate": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/partners/create": {
      "post": {
        "summary": "Cria um novo sócio",
        "description": "Essa rota será responsável por criar um novo sócio",
        "tags": ["Partners"],
        "requestBody": {
          "content": {
            "application/json; charset=utf-8": {
              "schema": {
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "surname": {
                    "type": "string"
                  },
                  "birthDate": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "422": {
            "description": "Dados invalidos"
          },
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "201": {
            "description": "Created",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "name": {
                      "type": "string"
                    },
                    "surname": {
                      "type": "string"
                    },
                    "birthDate": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/partners/{id}/update": {
      "put": {
        "summary": "Atualiza um sócio",
        "description": "Essa rota será responsável por atualizar um sócio pelo",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id do sócio",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json; charset=utf-8": {
              "schema": {
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "surname": {
                    "type": "string"
                  },
                  "birthDate": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "201": {
            "description": "Created",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "generatedMaps": {
                      "type": "array"
                    },
                    "raw": {
                      "type": "array"
                    },
                    "affected": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/partners/{id}/delete": {
      "delete": {
        "summary": "Deleta um sócio",
        "description": "Essa rota será responsável por deletar um sócio",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id do sócio",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "204": {
            "description": "No content",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "generatedMaps": {
                      "type": "array"
                    },
                    "raw": {
                      "type": "array"
                    },
                    "affected": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/modalities": {
      "get": {
        "summary": "Listagem de modalidades",
        "description": "Essa rota será responsável por listar todas modalidades cadastradas no banco de dados",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "200": {
            "description": "OK",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "name": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/modalities/{id}": {
      "get": {
        "summary": "busca uma modalidade pelo id",
        "description": "Essa rota será responsável por buscar uma modalidade pelo id",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id da modalidade",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "200": {
            "description": "OK",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "name": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/modalities/create": {
      "post": {
        "summary": "Cria uma nova modalidade",
        "description": "Essa rota será responsável por criar uma nova modalidade",
        "tags": ["Partners"],
        "requestBody": {
          "content": {
            "application/json; charset=utf-8": {
              "schema": {
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "422": {
            "description": "Dados invalidos"
          },
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "201": {
            "description": "Created",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "name": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/modalities/{id}/update": {
      "put": {
        "summary": "Atualiza uma modalide",
        "description": "Essa rota será responsável por atualizar uma modalidade",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id da modalidade",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json; charset=utf-8": {
              "schema": {
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "422": {
            "description": "Dados invalidos"
          },
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "201": {
            "description": "No content",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "generatedMaps": {
                      "type": "array"
                    },
                    "raw": {
                      "type": "array"
                    },
                    "affected": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/modalities/{id}/delete": {
      "delete": {
        "summary": "Deleta uma modalide",
        "description": "Essa rota será responsável por deletar uma modalidade",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id da modalidade",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "204": {
            "description": "No content",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "generatedMaps": {
                      "type": "array"
                    },
                    "raw": {
                      "type": "array"
                    },
                    "affected": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/contracts": {
      "get": {
        "summary": "Listagem de contratos",
        "description": "Essa rota será responsável por listar todos contratos cadastrados no banco de dados",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "200": {
            "description": "OK",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "start": {
                      "type": "string"
                    },
                    "status": {
                      "type": "number"
                    },
                    "isActive": {
                      "type": "boolean"
                    },
                    "modalityId": {
                      "type": "number"
                    },
                    "partnerId": {
                      "type": "number"
                    },
                    "dueDate": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/contracts/{id}": {
      "get": {
        "summary": "busca um contrato pelo id",
        "description": "Essa rota será responsável por buscar um contrato pelo id",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id do contrato",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "200": {
            "description": "OK",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "start": {
                      "type": "string"
                    },
                    "status": {
                      "type": "number"
                    },
                    "isActive": {
                      "type": "boolean"
                    },
                    "modalityId": {
                      "type": "number"
                    },
                    "partnerId": {
                      "type": "number"
                    },
                    "dueDate": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/contracts/create": {
      "post": {
        "summary": "Cria um novo contrato",
        "description": "Essa rota será responsável por criar um novo contrato. O campo partnerId e modalityId são obrigatórios",
        "tags": ["Partners"],
        "requestBody": {
          "content": {
            "application/json; charset=utf-8": {
              "schema": {
                "description": "por padrão, caso nao seja passado o dueDate ele será salvo automaticamente somando o start + 30 dias",
                "required": ["partnerId", "modalityId"],
                "properties": {
                  "start": {
                    "type": "string",
                    "description": "define a data de inicio do contrato"
                  },
                  "status": {
                    "type": "number",
                    "description": "define o status atual podendo ser Pendente, Pago, ou Cancelado"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "define status contrato, true significa Ativo e false Cancelado"
                  },
                  "modalityId": {
                    "type": "number",
                    "description": "vincula modalidade ao contrato"
                  },
                  "partnerId": {
                    "type": "number",
                    "description": "vincula sócio ao contrato"
                  },
                  "dueDate": {
                    "type": "string",
                    "description": "define a data final para vencimento da mensalidade"
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "422": {
            "description": "Dados invalidos"
          },
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "201": {
            "description": "Created",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    },
                    "name": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/contracts/{id}/update": {
      "put": {
        "summary": "Atualiza um contrato",
        "description": "Essa rota será responsável por atualizar um contrato. O campo partnerId é obrigatório",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id da contrato",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json; charset=utf-8": {
              "schema": {
                "description": "por padrão, caso nao seja passado o dueDate ele será salvo automaticamente somando o start + 30 dias",
                "required": ["partnerId"],
                "properties": {
                  "start": {
                    "type": "string",
                    "description": "define a data de inicio do contrato"
                  },
                  "status": {
                    "type": "number",
                    "description": "define o status atual podendo ser Ativo, Suspenso, ou Cancelado"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "define status contrato, true significa Ativo e false Cancelado"
                  },
                  "modalityId": {
                    "type": "number",
                    "description": "vincula modalidade ao contrato"
                  },
                  "partnerId": {
                    "type": "number",
                    "description": "vincula sócio ao contrato"
                  },
                  "dueDate": {
                    "type": "string",
                    "description": "define a data final para vencimento da mensalidade"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "422": {
            "description": "Dados invalidos"
          },
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "201": {
            "description": "No content",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "generatedMaps": {
                      "type": "array"
                    },
                    "raw": {
                      "type": "array"
                    },
                    "affected": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/contracts/{id}/delete": {
      "delete": {
        "summary": "Deleta um contrato",
        "description": "Essa rota será responsável por deletar um contato. O campo partnerId é obrigatório",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id do contrato",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json; charset=utf-8": {
              "schema": {
                "required": ["partnerId"],
                "properties": {
                  "partnerId": {
                    "type": "number",
                    "description": "vincula sócio ao contrato"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "204": {
            "description": "No content",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "generatedMaps": {
                      "type": "array"
                    },
                    "raw": {
                      "type": "array"
                    },
                    "affected": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/register": {
      "post": {
        "summary": "Cria um novo Sócio com todas relacões em somente uma chamada",
        "description": "Essa rota será responsável por criar um registro completo de um sócio com todos atributos obrigátorios",
        "tags": ["Partners"],
        "requestBody": {
          "content": {
            "application/json; charset=utf-8": {
              "schema": {
                "description": "por padrão, caso nao seja passado o dueDate ele será salvo automaticamente somando o start + 30 dias",
                "required": ["partnerId", "modalityId"],
                "$ref": "#/components/schemas/request/properties/register"
              },
              "example": {
                "partner": {
                  "name": "pablo",
                  "surname": "ruan",
                  "birthDate": "1990-02-24"
                },
                "contacts": [
                  {
                    "email": "pablords@gmail.com",
                    "phone": 99999999999,
                    "address": "endereco 6"
                  },
                  {
                    "email": "pablojds@yahoo.com",
                    "phone": 99999999999,
                    "address": "endereco 7"
                  }
                ],
                "modalities": [
                  {
                    "id": 4,
                    "contract": {
                      "start": "2021-01-01",
                      "dueDate": "2021-02-01",
                      "isActive": true,
                      "status": 2
                    }
                  },
                  {
                    "id": 5,
                    "contract": {
                      "start": "2021-01-01",
                      "dueDate": "2021-02-01",
                      "isActive": true,
                      "status": 2
                    }
                  }
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],
        "responses": {
          "422": {
            "description": "Dados invalidos"
          },
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "201": {
            "description": "Created",
            "content": {
              "aplication/json": {
                "schema": {
                  "$ref": "#/components/schemas/response/properties/register"
                },
                "example": {
                  "partner": {
                    "id": 4,
                    "name": "pablo",
                    "surname": "ruan",
                    "birthDate": "1990-02-24",
                    "createdAt": "2021-10-25T19:15:05.628Z",
                    "updatedAt": "2021-10-25T19:15:05.628Z"
                  },
                  "contacts": [
                    {
                      "email": "pablords@gmail.com",
                      "phone": 99999999999,
                      "address": "endereco 6",
                      "partnerId": 4,
                      "id": 19,
                      "createdAt": "2021-10-25T19:15:05.322Z",
                      "updatedAt": "2021-10-25T19:15:05.000Z"
                    },
                    {
                      "email": "pablojds@yahoo.com",
                      "phone": 99999999999,
                      "address": "endereco 7",
                      "partnerId": 4,
                      "id": 20,
                      "createdAt": "2021-10-25T19:15:05.347Z",
                      "updatedAt": "2021-10-25T19:15:05.000Z"
                    }
                  ],
                  "modalities": [
                    {
                      "id": 4,
                      "name": "karatê",
                      "description": "esporte",
                      "createdAt": "2021-10-25T05:51:46.483Z",
                      "updatedAt": "2021-10-25T05:51:46.483Z"
                    },
                    {
                      "id": 5,
                      "name": "natação",
                      "description": "esporte",
                      "createdAt": "2021-10-25T05:51:46.483Z",
                      "updatedAt": "2021-10-25T05:51:46.483Z"
                    }
                  ],
                  "contracts": [
                    {
                      "start": "2021-01-01",
                      "dueDate": "2021-02-01",
                      "isActive": true,
                      "status": 2,
                      "modalityId": 4,
                      "partnerId": 4,
                      "id": 9,
                      "createdAt": "2021-10-25T19:15:05.755Z",
                      "updatedAt": "2021-10-25T19:15:05.755Z"
                    },
                    {
                      "start": "2021-01-01",
                      "dueDate": "2021-02-01",
                      "isActive": true,
                      "status": 2,
                      "modalityId": 5,
                      "partnerId": 4,
                      "id": 10,
                      "createdAt": "2021-10-25T19:15:05.796Z",
                      "updatedAt": "2021-10-25T19:15:05.796Z"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/partners/register/{partnerId}": {
      "get": {
        "summary": "Busca um Sócio com todas relacões em somente uma chamada",
        "description": "Essa rota será responsável por buscar registro completo de sócio com todos atributos obrigátorios",
        "tags": ["Partners"],
        "parameters": [
          {
            "name": "partnerId",
            "in": "path",
            "description": "id do sócio",
            "required": true
          },
          {
            "name": "token",
            "in": "header",
            "description": "token de acesso",
            "required": true
          }
        ],

        "responses": {
          "500": {
            "description": "Erro! contate o administrador do sistema"
          },
          "400": {
            "description": "Erro ao processar requisição"
          },
          "403": {
            "description": "Não autorizado"
          },
          "200": {
            "description": "OK",
            "content": {
              "aplication/json": {
                "schema": {
                  "$ref": "#/components/schemas/response/properties/register"
                },
                "example": {
                  "partner": {
                    "id": 4,
                    "name": "pablo",
                    "surname": "ruan",
                    "birthDate": "1990-02-24",
                    "createdAt": "2021-10-25T19:15:05.628Z",
                    "updatedAt": "2021-10-25T19:15:05.628Z"
                  },
                  "contacts": [
                    {
                      "email": "pablords@gmail.com",
                      "phone": 99999999999,
                      "address": "endereco 6",
                      "partnerId": 4,
                      "id": 19,
                      "createdAt": "2021-10-25T19:15:05.322Z",
                      "updatedAt": "2021-10-25T19:15:05.000Z"
                    },
                    {
                      "email": "pablojds@yahoo.com",
                      "phone": 99999999999,
                      "address": "endereco 7",
                      "partnerId": 4,
                      "id": 20,
                      "createdAt": "2021-10-25T19:15:05.347Z",
                      "updatedAt": "2021-10-25T19:15:05.000Z"
                    }
                  ],
                  "modalities": [
                    {
                      "id": 4,
                      "name": "karatê",
                      "description": "esporte",
                      "createdAt": "2021-10-25T05:51:46.483Z",
                      "updatedAt": "2021-10-25T05:51:46.483Z"
                    },
                    {
                      "id": 5,
                      "name": "natação",
                      "description": "esporte",
                      "createdAt": "2021-10-25T05:51:46.483Z",
                      "updatedAt": "2021-10-25T05:51:46.483Z"
                    }
                  ],
                  "contracts": [
                    {
                      "start": "2021-01-01",
                      "dueDate": "2021-02-01",
                      "isActive": true,
                      "status": 2,
                      "modalityId": 4,
                      "partnerId": 4,
                      "id": 9,
                      "createdAt": "2021-10-25T19:15:05.755Z",
                      "updatedAt": "2021-10-25T19:15:05.755Z"
                    },
                    {
                      "start": "2021-01-01",
                      "dueDate": "2021-02-01",
                      "isActive": true,
                      "status": 2,
                      "modalityId": 5,
                      "partnerId": 4,
                      "id": 10,
                      "createdAt": "2021-10-25T19:15:05.796Z",
                      "updatedAt": "2021-10-25T19:15:05.796Z"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/checkin/access-release/{id}": {
      "get": {
        "summary": "Retorna status checkin cliente",
        "description": "Rota responsável por retornar status checkin cliente",
        "tags": ["Checkin"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "id do contrato",
            "required": true
          }
        ],
        "responses": {
          "401": {
            "description": "Não autorizado"
          },
          "403": {
            "description": "Não autorizado"
          },
          "200": {
            "description": "ok",
            "content": {
              "aplication/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "code": {
                      "type": "number"
                    },
                    "isActive": {
                      "type": "boolean"
                    }
                  }
                },
                "example": {
                  "status": "authorized",
                  "code": 1,
                  "isActive": true
                }
              }
            }
          }
        }
      }
    }
  },

  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "in": "header",
        "bearerFormat": "JWT"
      }
    },
    "security": {
      "bearerAuth": []
    },
    "schemas": {
      "request": {
        "properties": {
          "register": {
            "properties": {
              "partner": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "surname": {
                    "type": "string"
                  },
                  "birthDate": {
                    "type": "string"
                  }
                }
              },
              "contacts": {
                "type": "array",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "number"
                  },
                  "address": {
                    "type": "string"
                  }
                }
              },
              "modalities": {
                "type": "array",
                "properties": {
                  "id": {
                    "type": "number"
                  },
                  "contract": {
                    "properties": {
                      "start": {
                        "type": "string"
                      },
                      "dueDate": {
                        "type": "string"
                      },
                      "isActive": {
                        "type": "boolean"
                      },
                      "status": {
                        "type": "number"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "response": {
        "properties": {
          "register": {
            "properties": {
              "partner": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "number"
                  },
                  "name": {
                    "type": "string"
                  },
                  "surname": {
                    "type": "string"
                  },
                  "birthDate": {
                    "type": "string"
                  },
                  "createdAt": {
                    "type": "string"
                  },
                  "updatedAt": {
                    "type": "string"
                  }
                }
              },
              "contacts": {
                "type": "array",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "number"
                  },
                  "address": {
                    "type": "string"
                  },
                  "partnerId": {
                    "type": "number"
                  },
                  "id": {
                    "type": "number"
                  },
                  "createdAt": {
                    "type": "string"
                  },
                  "updatedAt": {
                    "type": "string"
                  }
                }
              },
              "modalities": {
                "type": "array",
                "properties": {
                  "id": {
                    "type": "number"
                  },
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "createdAt": {
                    "type": "string"
                  },
                  "updatedAt": {
                    "type": "string"
                  }
                }
              },
              "contracts": {
                "type": "array",
                "properties": {
                  "start": {
                    "type": "string"
                  },
                  "dueDate": {
                    "type": "string"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "status": {
                    "type": "number"
                  },
                  "modalityId": {
                    "type": "number"
                  },
                  "partnerId": {
                    "type": "number"
                  },
                  "id": {
                    "type": "number"
                  },
                  "createdAt": {
                    "type": "string"
                  },
                  "updatedAt": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
